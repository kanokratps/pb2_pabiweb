<alfresco-config> 
<config evaluator="string-compare" condition="DocumentLibrary">
      <types>
         <type name="cm:folder">
			<subtype name="pcmf:document" />
         </type>
         <type name="cm:content">
			<subtype name="pcmd:document" />
         </type>
      </types>
   </config>
   
	<config evaluator="string-compare" condition="activiti$PBPcmPR">
	 <forms>
		 <form>
			<field-visibility>
				<show id="pcmwf:remark"/>
				
				<show id="bpm:comment" />
			</field-visibility>
			
			<appearance>
				<set id="docInfo" appearance="panel" label-id="workflow.pcm.set.docInfo"/>		
				<set id="pnlComment" appearance="panel" parent = "docInfo"  label-id="workflow.pcm.set.comment" />
				
				<field id="bpm:comment" set="pnlComment" label-id="Comment">
					<control template="/org/alfresco/components/form/controls/textarea.ftl">
					 <control-param name="style">width: 99%</control-param>
					 <control-param name="rows">5</control-param>
				  </control>
				</field>
			</appearance>
		 </form>
		</forms>
	</config>

	<config evaluator="task-type" condition="pcmwf:submitStartTask">
	<forms>
		 <form>
			<field-visibility>
				<show id="pcmwf:remark"/>
				
				<show id="bpm:comment" />
			</field-visibility>
			
		 </form>
		</forms>
	</config>
	
	<config evaluator="task-type" condition="pcmwf:requesterResubmitTask">
	 <forms>
		 <form>
			<field-visibility>
				<show id="pcmwf:id"/>
				<show id="pcmwf:requestedTime"/>
				<show id="pcmwf:remark"/>
				
				<show id="pcmwf:document"/>
				<show id="pcmwf:attachDocument"/>
				<show id="pcmwf:commentHistory"/> 
				
				<show id="bpm:comment" />
				<show id="pcmwf:reSubmitOutcome" />
				<show id="pcmwf:targetFolderNodeRef"/>
			</field-visibility>
			
			<appearance>
			    <set id="docInfo" appearance="e-panel" label-id="workflow.pcm.set.docInfo" />		
				<set id="pnlDocument" appearance="panel" parent="docInfo" label-id="workflow.pcm.set.document" />
				<set id="pnlAttachment" appearance="panel" parent="docInfo" label-id="workflow.pcm.set.attachment" />	
				<set id="pnlComment" appearance="panel" parent="docInfo"  label-id="workflow.pcm.set.comment" />
				<set id="response" appearance="title" label-id="workflow.pcm.set.response" />
				 
				<field id="pcmwf:id" set="docInfo">
					<control template="/org/alfresco/components/form/controls/hidden.ftl">
					</control>
				</field>
				 
				<field id="pcmwf:requestedTime" set="docInfo">
					<control template="/org/alfresco/components/form/controls/info.ftl">
					 	<control-param name="style">width:40%</control-param> 
						<control-param name="format">dd/MM/yyyy</control-param>  
					</control> 
				</field>
				
				<field id="pcmwf:remark"  set="docInfo">
					<control template="/org/alfresco/components/form/controls/info.ftl">
					 <control-param name="style">width: 99%</control-param> 
				  </control>
				</field>				
				
				<field id="pcmwf:document" set="pnlDocument">
					<control template="/org/alfresco/components/form/controls/workflow/packageitems.ftl">
						<control-param name="style">width:100%</control-param>
						<!-- control-param name="buttons">u</control-param -->
						<control-param name="removeAction">false</control-param>  
					</control>
				</field> 
				<field id="pcmwf:attachDocument" set="pnlAttachment">
					<control template="/org/alfresco/components/form/controls/workflow/packageitems.ftl">
						<control-param name="style">width:100%</control-param>
						<control-param name="buttons">u</control-param>
						<control-param name="removeAction">false</control-param>  
					</control>
				</field> 
				
				<field id="pcmwf:commentHistory" set="pnlComment">
					<control template="/pb/components/form/controls/commentgrid.ftl">
						<control-param name="cols">time,user,action,task,comment</control-param>
					</control>
				</field>
				
				<field id="bpm:comment" set="pnlComment" label-id="Comment">
					<control template="/org/alfresco/components/form/controls/textarea.ftl">
					 <control-param name="style">width: 99%</control-param>
					 <control-param name="rows">5</control-param>
				  </control>
				</field>
				
				<field id="pcmwf:reSubmitOutcome" label-id="workflow.field.outcome" set="response">
                  <control template="/org/alfresco/components/form/controls/workflow/activiti-transitions.ftl" />
                </field>
                
                <field id="pcmwf:targetFolderNodeRef">
					<control template="/org/alfresco/components/form/controls/hidden.ftl"/>
				</field>				
				
			</appearance>
		 </form>
		</forms>
	</config>
	
	<config evaluator="task-type" condition="pcmwf:reviewerReviewTask">
	<forms>
		 <form>
			<field-visibility>
				<show id="pcmwf:id"/>
				<show id="pcmwf:requestedTime"/>
				<show id="pcmwf:remark"/>
				
				<show id="pcmwf:document"/>
				<show id="pcmwf:attachDocument"/>
				<show id="pcmwf:commentHistory"/> 
				
				<show id="bpm:comment" />
				<show id="pcmwf:reviewOutcome" />
				<show id="pcmwf:targetFolderNodeRef"/>
				
			</field-visibility>
			
			<appearance>
				<set id="docInfo" appearance="panel" label-id="workflow.pcm.set.docInfo"/>		
				<set id="pnlDocument" appearance="panel" parent="docInfo" label-id="workflow.pcm.set.document" />
				<set id="pnlAttachment" appearance="panel" parent="docInfo" label-id="workflow.pcm.set.attachment" />	
				<set id="pnlComment" appearance="panel" parent = "docInfo"  label-id="workflow.pcm.set.comment" />
				<set id="response" appearance="title" label-id="workflow.pcm.set.response" />
				 
				<field id="pcmwf:id" set="docInfo">
					<control template="/org/alfresco/components/form/controls/hidden.ftl">
					</control>
				</field>
				 
				<field id="pcmwf:requestedTime" set="docInfo">
					<control template="/org/alfresco/components/form/controls/info.ftl">
					 	<control-param name="style">width:40%</control-param> 
						<control-param name="format">dd/MM/yyyy</control-param>  
					</control> 
				</field>
				
				<field id="pcmwf:remark"  set="docInfo">
					<control template="/org/alfresco/components/form/controls/info.ftl">
					 <control-param name="style">width: 99%</control-param> 
				  </control>
				</field>				
				
				<field id="pcmwf:document" set="pnlDocument">
					<control template="/org/alfresco/components/form/controls/workflow/packageitems.ftl">
						<control-param name="style">width:100%</control-param>
						<control-param name="removeAction">false</control-param>  
					</control>
				</field> 
				<field id="pcmwf:attachDocument" set="pnlAttachment">
					<control template="/org/alfresco/components/form/controls/workflow/packageitems.ftl">
						<control-param name="style">width:100%</control-param>
						<control-param name="buttons">u</control-param>
						<control-param name="removeAction">false</control-param>  
					</control>
				</field> 
				
				<field id="pcmwf:commentHistory" set="pnlComment">
					<control template="/pb/components/form/controls/commentgrid.ftl">
						<control-param name="cols">time,user,action,task,comment</control-param>
					</control>
				</field>
				
				<field id="bpm:comment" set="pnlComment" label-id="Comment">
					<control template="/org/alfresco/components/form/controls/textarea.ftl">
					 <control-param name="style">width: 99%</control-param>
					 <control-param name="rows">5</control-param>
				  </control>
				</field>
				
				<field id="pcmwf:reviewOutcome" label-id="workflow.field.outcome" set="response">
                  <control template="/org/alfresco/components/form/controls/workflow/activiti-transitions.ftl" />
                </field>
                
                <field id="pcmwf:targetFolderNodeRef">
					<control template="/org/alfresco/components/form/controls/hidden.ftl"/>
				</field>				
				
			</appearance>
		 </form>
		</forms>
	</config>
	
	<config evaluator="task-type" condition="pcmwf:consultantConsultTask">
	<forms>
		 <form>
			<field-visibility>
				<show id="pcmwf:id"/>
				<show id="pcmwf:requestedTime"/>
				<show id="pcmwf:remark"/>

				<show id="pcmwf:document"/>
				<show id="pcmwf:attachDocument"/>
				<show id="pcmwf:commentHistory"/> 
				
				<show id="bpm:comment" />
				<show id="pcmwf:consultOutcome" />
				<show id="pcmwf:targetFolderNodeRef"/>
				
			</field-visibility>
			
			<appearance>
				<set id="docInfo" appearance="panel" label-id="workflow.pcm.set.docInfo"/>		
				<set id="pnlDocument" appearance="panel" parent="docInfo" label-id="workflow.pcm.set.document" />
				<set id="pnlAttachment" appearance="panel" parent="docInfo" label-id="workflow.pcm.set.attachment" />	
				<set id="pnlComment" appearance="panel" parent = "docInfo"  label-id="workflow.pcm.set.comment" />
				<set id="response" appearance="title" label-id="workflow.pcm.set.response" />
				 
				<field id="pcmwf:id" set="docInfo">
					<control template="/org/alfresco/components/form/controls/hidden.ftl">
					</control>
				</field>
				 
				<field id="pcmwf:requestedTime" set="docInfo">
					<control template="/org/alfresco/components/form/controls/info.ftl">
					 	<control-param name="style">width:40%</control-param> 
						<control-param name="format">dd/MM/yyyy</control-param>  
					</control> 
				</field>
				
				<field id="pcmwf:remark"  set="docInfo">
					<control template="/org/alfresco/components/form/controls/info.ftl">
					 <control-param name="style">width: 99%</control-param> 
				  </control>
				</field>				
				
				<field id="pcmwf:document" set="pnlDocument">
					<control template="/org/alfresco/components/form/controls/workflow/packageitems.ftl">
						<control-param name="style">width:100%</control-param>
						<!-- control-param name="buttons">u</control-param -->
						<control-param name="removeAction">false</control-param>  
					</control>
				</field> 
				<field id="pcmwf:attachDocument" set="pnlAttachment">
					<control template="/org/alfresco/components/form/controls/workflow/packageitems.ftl">
						<control-param name="style">width:100%</control-param>
						<control-param name="buttons">u</control-param>
						<control-param name="removeAction">false</control-param>  
					</control>
				</field> 
				
				<field id="pcmwf:commentHistory" set="pnlComment">
					<control template="/pb/components/form/controls/commentgrid.ftl">
						<control-param name="cols">time,user,action,task,comment</control-param>
					</control>
				</field>
				
				<field id="bpm:comment" set="pnlComment" label-id="Comment">
					<control template="/org/alfresco/components/form/controls/textarea.ftl">
					 <control-param name="style">width: 99%</control-param>
					 <control-param name="rows">5</control-param>
				  </control>
				</field>
				
				<field id="pcmwf:consultOutcome" label-id="workflow.field.outcome" set="response">
                  <control template="/org/alfresco/components/form/controls/workflow/activiti-transitions.ftl" />
                </field>
                
                <field id="pcmwf:targetFolderNodeRef">
					<control template="/org/alfresco/components/form/controls/hidden.ftl"/>
				</field>				
				
			</appearance>
		 </form>
		</forms>
	</config> 	

</alfresco-config>
